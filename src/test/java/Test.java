import com.freedy.expression.utils.ReflectionUtils;
import lombok.SneakyThrows;
//import jdk.internal.misc.Unsafe;

import java.lang.invoke.MethodHandles;
import java.lang.invoke.VarHandle;
import java.util.ArrayList;
import java.util.List;

/**
 * @author Freedy
 * @date 2022/1/7 13:21
 */
public class Test {


    @SneakyThrows
    public static void main(String[] args) {
//        Unsafe unsafe = (Unsafe) ReflectionUtils.getter(Unsafe.class, null, "theUnsafe");
//        System.out.println(unsafe);
//        ClassLoader loader = Test.class.getClassLoader();
//        long offset = unsafe.objectFieldOffset(ClassLoader.class, "classes");
//        for (Class<?> aClass : (List<Class<?>>) unsafe.getObject(loader, offset)) {
//            System.out.println(aClass);
//        }
    }


}
